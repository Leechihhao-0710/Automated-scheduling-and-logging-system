# Docker 環境專用配置
spring.application.name=Dissertation

# MySQL Database Configuration for Docker
spring.datasource.url=jdbc:mysql://mysql:3306/task_management_system?useSSL=false&serverTimezone=Europe/London&allowPublicKeyRetrieval=true
spring.datasource.username=${DB_USERNAME:tms}
spring.datasource.password=${DB_PASSWORD:tmspass}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.jdbc.time_zone=Europe/London

# Thymeleaf Configuration
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=true

# Static Resources Configuration
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.chain.strategy.content.enabled=false
spring.web.resources.chain.strategy.fixed.enabled=false
spring.web.resources.cache.cachecontrol.max-age=86400

# Disable dev tools in Docker
spring.devtools.restart.enabled=false

# Logging Configuration
logging.level.org.hibernate.SQL=warn
logging.level.org.hibernate.type.descriptor.sql.basicbinder=warn
logging.level.com.example=info
logging.level.root=info

# Server Configuration
server.port=8080

# JSON Configuration
spring.jackson.serialization.indent-output=false
spring.jackson.serialization.write-date-keys-as-timestamps=false

# JWT Configuration
jwt.secret=${JWT_SECRET:yourSuperSecretKeyForJWTSigningMustBeLongEnough123DockerVersion2024}
jwt.expiration=${JWT_EXPIRATION:86400000}

# Quartz Configuration
spring.quartz.job-store-type=jdbc
spring.quartz.jdbc.initialize-schema=never
spring.quartz.properties.org.quartz.scheduler.instanceName=TaskScheduler
spring.quartz.properties.org.quartz.scheduler.instanceId=AUTO
spring.quartz.properties.org.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX
spring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.StdJDBCDelegate
spring.quartz.properties.org.quartz.jobStore.tablePrefix=QRTZ_
spring.quartz.properties.org.quartz.jobStore.isClustered=false

# Email Configuration
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:chihhao1study@gmail.com}
spring.mail.password=${MAIL_PASSWORD:fbfforbwoqannspb}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Email Settings
app.email.from=${MAIL_FROM:chihhao1study@gmail.com}
app.email.enabled=${EMAIL_ENABLED:true}

# Health Check for Docker
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

spring.security.debug=true